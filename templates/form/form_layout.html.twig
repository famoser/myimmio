{% use 'bootstrap_4_layout.html.twig' %}

{% block checkbox_radio_label -%}
    {%- if label is not same as(false) and label is empty -%}
        {%- if label_format is empty -%}
            {%- set label = name|camelCaseToUnderscore -%}
        {%- endif -%}
    {%- endif -%}

    {%- if label is not empty -%}
        {%- set label = translation_domain is same as(false) ? label : label|trans({}, translation_domain) -%}

        {# make sure to exclude fieldsets (form inside forms) #}
        {%- if compound is not defined or not compound -%}
            {%- if required -%}
                {%- set label = label ~ "required"|trans({}, "common_form") -%}
            {%- else -%}
                {%- set label = label ~ "not_required"|trans({}, "common_form") -%}
            {%- endif -%}
        {%- endif -%}

        {%- set translation_domain = false -%}
    {%- endif -%}

    {{- parent() -}}
{%- endblock checkbox_radio_label %}

{%- block button_widget -%}
    {%- if label is not same as(false) and label is empty -%}
        {%- if label_format is empty -%}
            {% set label = name|camelCaseToUnderscore %}
        {%- endif -%}
    {%- endif -%}

    {{- parent() -}}
{%- endblock button_widget -%}

{%- block form_label -%}
    {% if label is not same as(false) -%}
        {% if label is empty -%}
            {%- if label_format is empty -%}
                {% set label = name|camelCaseToUnderscore %}
            {%- endif -%}
        {%- endif -%}
    {%- endif -%}

    {%- if label is not empty -%}
        {%- set label = translation_domain is same as(false) ? label : label|trans({}, translation_domain) -%}

        {# make sure to exclude fieldsets (form inside forms) #}
        {%- if compound is not defined or not compound -%}
            {%- if required -%}
                {%- set label = label ~ "required"|trans({}, "common_form") -%}
            {%- else -%}
                {%- set label = label ~ "not_required"|trans({}, "common_form") -%}
            {%- endif -%}
        {%- endif -%}

        {%- set translation_domain = false -%}
    {%- endif -%}

    {{- parent() -}}
{%- endblock form_label -%}